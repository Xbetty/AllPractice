<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>CSS 逐帧动画</title>
    <meta
      name="viewport"
      content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0"
    />
    <style type="text/css">
      html,
      body {
        width: 100%;
        height: 100%;
      }
      html,
      body,
      div {
        margin: 0;
        padding: 0;
      }
      /* .box {
        margin: 50px auto;
      }
      .sister {
         width: 204px;
         height: 133.3px;
         background: url('https://mmbiz.qpic.cn/mmbiz_png/cGNV464GHObgFkPLDEc8DG47qyQEE7U2ZeoJDTcaIdia8bLzh0QcQj02fU4dgJaXicx4AvJecicOXhW1MRT6RzBNw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1') no-repeat 0 0 / 204px 800px;
         animation: smile 1s linear 0s forwards;
         animation: smile 1s steps(1,end) infinite;
         animation: smile1 1s steps(1,start) infinite;
      }
      .sister:hover {
        animation-play-state: paused;
      } */
      /* @keyframes smile {
         0% { background-position-y: 0px; }
         20% { background-position-y: -133.3px; }
         40% { background-position-y: -266.6px; }
         60% { background-position-y: -400px; }
         80% { background-position-y: -533.3px; }
         100% { background-position-y: -667px; }
      } */

      /* @keyframes smile {
         0% { background-position-y: 0px; }
         17% { background-position-y: -133.3px; }
         34% { background-position-y: -266.6px; }
         51% { background-position-y: -400px; }
         68% { background-position-y: -533.3px; }
         84% { background-position-y: -667px; }
         100% { background-position-y: -667px; }
      } */
      /* @keyframes smile1 {
         0% { background-position-y: 0px; }
         17% { background-position-y: 0px; }
         34% { background-position-y: -133.3px; }
         51% { background-position-y: -266.6px; }
         68% { background-position-y: -400px; }
         84% { background-position-y: -533.3px; }
         100% { background-position-y: -667px; }
      } */
      .sister {
        width: 204px;
        height: 133.3px;
        background: url('https://mmbiz.qpic.cn/mmbiz_png/cGNV464GHObgFkPLDEc8DG47qyQEE7U2ZeoJDTcaIdia8bLzh0QcQj02fU4dgJaXicx4AvJecicOXhW1MRT6RzBNw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1')
          no-repeat 0 0 / 204px 800px;
        /* animation: smile 1s steps(5) 2; */
        animation: smile 1s steps(6) 2;
      }
      @keyframes smile {
        100% {
          /* background-position-y: -667px; */
          /* steps(6)时可为800 可解决最后丢帧的问题,但是start会有问题 */
          background-position-y: -800px;
        }
      }
    </style>
  </head>
  <body>
    <div id="div1" class="box sister"></div>
    <script>
      var o = document.getElementById("div1");
      // 动画开始时事件
      o.addEventListener("webkitAnimationStart", function() {
          console.log("动画开始");
      })
      // 动画重复运动时事件
      o.addEventListener("webkitAnimationIteration", function() {
          console.log("动画重复运动");
      })
      // 动画结束时事件
      o.addEventListener("webkitAnimationEnd", function() {
          console.log("动画结束");
      })

    </script>
  </body>
</html>
